<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="node_modules/katex/dist/katex.min.css">
    <link rel="stylesheet" href="res/style.css">
  </head>
  <body>
    <div id="container"></div>
    <script type="module">
      (async () => {
        window.fs = require('fs');
        window.process = require('process');
        window.d3 = require('d3');
        const StatKnife = (await import('es6://lib/StatKnife.js')).default;
        window.StatKnife = new StatKnife(window);
        await window.StatKnife.importFromSystemPath('Dice');
        await window.StatKnife.importFromSystemPath('Dataset');
        await window.StatKnife.importFromSystemPath('CanvasPanel');
        await window.StatKnife.importFromSystemPath('Plot/Panel');
        await window.StatKnife.importFromSystemPath('MarkdownPanel');
        const initPath = `${process.env['HOME']}/.stat-knife/init.js`;
        if (fs.existsSync(initPath)) {
          await import(`es6-root://${initPath}`).then(() => console.log(`loaded init.js from $HOME/.stat-knife`));
        } else {
          console.log(`skipped to load init.js from $HOME/.stat-knife`);
        }
      })();
    </script>
  </body>
</html>